import{c as e}from"./_commonjsHelpers-lGe4XDVY.js";var t={exports:{}};!function(e){function t(e){return void 0!==e.text&&""!==e.text?`'${e.type}' with value '${e.text}'`:`'${e.type}'`}class r extends Error{constructor(e){super(`No parslet found for token: ${t(e)}`),this.token=e,Object.setPrototypeOf(this,r.prototype)}getToken(){return this.token}}class n extends Error{constructor(e){super(`The parsing ended early. The next token was: ${t(e)}`),this.token=e,Object.setPrototypeOf(this,n.prototype)}getToken(){return this.token}}class o extends Error{constructor(e,t){let r=`Unexpected type: '${e.type}'.`;void 0!==t&&(r+=` Message: ${t}`),super(r),Object.setPrototypeOf(this,o.prototype)}}function a(e){return t=>t.startsWith(e)?{type:e,text:e}:null}function s(e){let t,r=0;const n=e[0];let o=!1;if("'"!==n&&'"'!==n)return null;for(;r<e.length;){if(r++,t=e[r],!o&&t===n){r++;break}o=!o&&"\\"===t}if(t!==n)throw new Error("Unterminated String");return e.slice(0,r)}const i=new RegExp("[$_\\p{ID_Start}]|\\\\u\\p{Hex_Digit}{4}|\\\\u\\{0*(?:\\p{Hex_Digit}{1,5}|10\\p{Hex_Digit}{4})\\}","u"),l=new RegExp("[$\\-\\p{ID_Continue}\\u200C\\u200D]|\\\\u\\p{Hex_Digit}{4}|\\\\u\\{0*(?:\\p{Hex_Digit}{1,5}|10\\p{Hex_Digit}{4})\\}","u");function c(e){let t=e[0];if(!i.test(t))return null;let r=1;do{if(t=e[r],!l.test(t))break;r++}while(r<e.length);return e.slice(0,r)}const p=/^(NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity))/;function u(e){var t,r;return null!==(r=null===(t=p.exec(e))||void 0===t?void 0:t[0])&&void 0!==r?r:null}const y=e=>{const t=c(e);return null==t?null:{type:"Identifier",text:t}};function d(e){return t=>{if(!t.startsWith(e))return null;const r=t[e.length];return void 0!==r&&l.test(r)?null:{type:e,text:e}}}const m=e=>{const t=s(e);return null==t?null:{type:"StringValue",text:t}},T=e=>{const t=u(e);return null===t?null:{type:"Number",text:t}},f=[e=>e.length>0?null:{type:"EOF",text:""},a("=>"),a("("),a(")"),a("{"),a("}"),a("["),a("]"),a("|"),a("&"),a("<"),a(">"),a(","),a(";"),a("*"),a("?"),a("!"),a("="),a(":"),a("..."),a("."),a("#"),a("~"),a("/"),a("@"),d("undefined"),d("null"),d("function"),d("this"),d("new"),d("module"),d("event"),d("external"),d("typeof"),d("keyof"),d("readonly"),d("import"),d("is"),d("in"),d("asserts"),T,y,m],h=/^\s*\n\s*/;class J{static create(e){const t=this.read(e);e=t.text;const r=this.read(e);return e=r.text,new J(e,void 0,t.token,r.token)}constructor(e,t,r,n){this.text="",this.text=e,this.previous=t,this.current=r,this.next=n}static read(e,t=!1){t=t||h.test(e),e=e.trim();for(const r of f){const n=r(e);if(null!==n){const r=Object.assign(Object.assign({},n),{startOfLine:t});return{text:e=e.slice(r.text.length),token:r}}}throw new Error("Unexpected Token "+e)}advance(){const e=J.read(this.text);return new J(e.text,this.current,this.next,e.token)}}function g(e){if(void 0===e)throw new Error("Unexpected undefined");if("JsdocTypeKeyValue"===e.type||"JsdocTypeParameterList"===e.type||"JsdocTypeProperty"===e.type||"JsdocTypeReadonlyProperty"===e.type||"JsdocTypeObjectField"===e.type||"JsdocTypeJsdocObjectField"===e.type||"JsdocTypeIndexSignature"===e.type||"JsdocTypeMappedType"===e.type)throw new o(e);return e}function w(e){return"JsdocTypeKeyValue"===e.type?N(e):g(e)}function v(e){return"JsdocTypeName"===e.type?e:N(e)}function N(e){if("JsdocTypeKeyValue"!==e.type)throw new o(e);return e}function E(e){var t;if("JsdocTypeVariadic"===e.type){if("JsdocTypeName"===(null===(t=e.element)||void 0===t?void 0:t.type))return e;throw new o(e)}if("JsdocTypeNumber"!==e.type&&"JsdocTypeName"!==e.type)throw new o(e);return e}function b(e){return"JsdocTypeIndexSignature"===e.type||"JsdocTypeMappedType"===e.type}var P,S;(S=P||(P={}))[S.ALL=0]="ALL",S[S.PARAMETER_LIST=1]="PARAMETER_LIST",S[S.OBJECT=2]="OBJECT",S[S.KEY_VALUE=3]="KEY_VALUE",S[S.INDEX_BRACKETS=4]="INDEX_BRACKETS",S[S.UNION=5]="UNION",S[S.INTERSECTION=6]="INTERSECTION",S[S.PREFIX=7]="PREFIX",S[S.INFIX=8]="INFIX",S[S.TUPLE=9]="TUPLE",S[S.SYMBOL=10]="SYMBOL",S[S.OPTIONAL=11]="OPTIONAL",S[S.NULLABLE=12]="NULLABLE",S[S.KEY_OF_TYPE_OF=13]="KEY_OF_TYPE_OF",S[S.FUNCTION=14]="FUNCTION",S[S.ARROW=15]="ARROW",S[S.ARRAY_BRACKETS=16]="ARRAY_BRACKETS",S[S.GENERIC=17]="GENERIC",S[S.NAME_PATH=18]="NAME_PATH",S[S.PARENTHESIS=19]="PARENTHESIS",S[S.SPECIAL_TYPES=20]="SPECIAL_TYPES";class k{constructor(e,t,r){this.grammar=e,this._lexer="string"==typeof t?J.create(t):t,this.baseParser=r}get lexer(){return this._lexer}parse(){const e=this.parseType(P.ALL);if("EOF"!==this.lexer.current.type)throw new n(this.lexer.current);return e}parseType(e){return g(this.parseIntermediateType(e))}parseIntermediateType(e){const t=this.tryParslets(null,e);if(null===t)throw new r(this.lexer.current);return this.parseInfixIntermediateType(t,e)}parseInfixIntermediateType(e,t){let r=this.tryParslets(e,t);for(;null!==r;)e=r,r=this.tryParslets(e,t);return e}tryParslets(e,t){for(const r of this.grammar){const n=r(this,t,e);if(null!==n)return n}return null}consume(e){return Array.isArray(e)||(e=[e]),!!e.includes(this.lexer.current.type)&&(this._lexer=this.lexer.advance(),!0)}acceptLexerState(e){this._lexer=e.lexer}}function O(e){return"EOF"===e||"|"===e||","===e||")"===e||">"===e}const I=(e,t,r)=>{const n=e.lexer.current.type,o=e.lexer.next.type;return null==r&&"?"===n&&!O(o)||null!=r&&"?"===n?(e.consume("?"),null==r?{type:"JsdocTypeNullable",element:e.parseType(P.NULLABLE),meta:{position:"prefix"}}:{type:"JsdocTypeNullable",element:g(r),meta:{position:"suffix"}}):null};function A(e){const t=(t,r,n)=>{const o=t.lexer.current.type,a=t.lexer.next.type;if(null===n){if("parsePrefix"in e&&e.accept(o,a))return e.parsePrefix(t)}else if("parseInfix"in e&&e.precedence>r&&e.accept(o,a))return e.parseInfix(t,n);return null};return Object.defineProperty(t,"name",{value:e.name}),t}const R=A({name:"optionalParslet",accept:e=>"="===e,precedence:P.OPTIONAL,parsePrefix:e=>(e.consume("="),{type:"JsdocTypeOptional",element:e.parseType(P.OPTIONAL),meta:{position:"prefix"}}),parseInfix:(e,t)=>(e.consume("="),{type:"JsdocTypeOptional",element:g(t),meta:{position:"suffix"}})}),_=A({name:"numberParslet",accept:e=>"Number"===e,parsePrefix:e=>{const t=parseFloat(e.lexer.current.text);return e.consume("Number"),{type:"JsdocTypeNumber",value:t}}}),L=A({name:"parenthesisParslet",accept:e=>"("===e,parsePrefix:e=>{if(e.consume("("),e.consume(")"))return{type:"JsdocTypeParameterList",elements:[]};const t=e.parseIntermediateType(P.ALL);if(!e.consume(")"))throw new Error("Unterminated parenthesis");return"JsdocTypeParameterList"===t.type?t:"JsdocTypeKeyValue"===t.type?{type:"JsdocTypeParameterList",elements:[t]}:{type:"JsdocTypeParenthesis",element:g(t)}}}),F=A({name:"specialTypesParslet",accept:(e,t)=>"?"===e&&O(t)||"null"===e||"undefined"===e||"*"===e,parsePrefix:e=>{if(e.consume("null"))return{type:"JsdocTypeNull"};if(e.consume("undefined"))return{type:"JsdocTypeUndefined"};if(e.consume("*"))return{type:"JsdocTypeAny"};if(e.consume("?"))return{type:"JsdocTypeUnknown"};throw new Error("Unacceptable token: "+e.lexer.current.text)}}),U=A({name:"notNullableParslet",accept:e=>"!"===e,precedence:P.NULLABLE,parsePrefix:e=>(e.consume("!"),{type:"JsdocTypeNotNullable",element:e.parseType(P.NULLABLE),meta:{position:"prefix"}}),parseInfix:(e,t)=>(e.consume("!"),{type:"JsdocTypeNotNullable",element:g(t),meta:{position:"suffix"}})});function j({allowTrailingComma:e}){return A({name:"parameterListParslet",accept:e=>","===e,precedence:P.PARAMETER_LIST,parseInfix:(e,t)=>{const n=[w(t)];e.consume(",");do{try{const t=e.parseIntermediateType(P.PARAMETER_LIST);n.push(w(t))}catch(x){if(x instanceof r)break;throw x}}while(e.consume(","));if(n.length>0&&n.slice(0,-1).some((e=>"JsdocTypeVariadic"===e.type)))throw new Error("Only the last parameter may be a rest parameter");return{type:"JsdocTypeParameterList",elements:n}}})}const V=A({name:"genericParslet",accept:(e,t)=>"<"===e||"."===e&&"<"===t,precedence:P.GENERIC,parseInfix:(e,t)=>{const r=e.consume(".");e.consume("<");const n=[];do{n.push(e.parseType(P.PARAMETER_LIST))}while(e.consume(","));if(!e.consume(">"))throw new Error("Unterminated generic parameter list");return{type:"JsdocTypeGeneric",left:g(t),elements:n,meta:{brackets:"angle",dot:r}}}}),D=A({name:"unionParslet",accept:e=>"|"===e,precedence:P.UNION,parseInfix:(e,t)=>{e.consume("|");const r=[];do{r.push(e.parseType(P.UNION))}while(e.consume("|"));return{type:"JsdocTypeUnion",elements:[g(t),...r]}}}),K=[I,R,_,L,F,U,j({allowTrailingComma:!0}),V,D,R];function $({allowSquareBracketsOnAnyType:e,allowJsdocNamePaths:t,pathGrammar:r}){return function(n,a,s){if(null==s||a>=P.NAME_PATH)return null;const i=n.lexer.current.type,l=n.lexer.next.type;if(!("."===i&&"<"!==l||"["===i&&(e||"JsdocTypeName"===s.type)||t&&("~"===i||"#"===i)))return null;let c,p=!1;n.consume(".")?c="property":n.consume("[")?(c="property-brackets",p=!0):n.consume("~")?c="inner":(n.consume("#"),c="instance");const u=null!==r?new k(r,n.lexer,n):n,y=u.parseIntermediateType(P.NAME_PATH);let d;switch(n.acceptLexerState(u),y.type){case"JsdocTypeName":d={type:"JsdocTypeProperty",value:y.value,meta:{quote:void 0}};break;case"JsdocTypeNumber":d={type:"JsdocTypeProperty",value:y.value.toString(10),meta:{quote:void 0}};break;case"JsdocTypeStringValue":d={type:"JsdocTypeProperty",value:y.value,meta:{quote:y.meta.quote}};break;case"JsdocTypeSpecialNamePath":if("event"!==y.specialType)throw new o(y,"Type 'JsdocTypeSpecialNamePath' is only allowed with specialType 'event'");d=y;break;default:throw new o(y,"Expecting 'JsdocTypeName', 'JsdocTypeNumber', 'JsdocStringValue' or 'JsdocTypeSpecialNamePath'")}if(p&&!n.consume("]")){const e=n.lexer.current;throw new Error(`Unterminated square brackets. Next token is '${e.type}' with text '${e.text}'`)}return{type:"JsdocTypeNamePath",left:g(s),right:d,pathType:c}}}function q({allowedAdditionalTokens:e}){return A({name:"nameParslet",accept:t=>"Identifier"===t||"this"===t||"new"===t||e.includes(t),parsePrefix:e=>{const{type:t,text:r}=e.lexer.current;return e.consume(t),{type:"JsdocTypeName",value:r}}})}const B=A({name:"stringValueParslet",accept:e=>"StringValue"===e,parsePrefix:e=>{const t=e.lexer.current.text;return e.consume("StringValue"),{type:"JsdocTypeStringValue",value:t.slice(1,-1),meta:{quote:"'"===t[0]?"single":"double"}}}});function M({pathGrammar:e,allowedTypes:t}){return A({name:"specialNamePathParslet",accept:e=>t.includes(e),parsePrefix:t=>{const r=t.lexer.current.type;if(t.consume(r),!t.consume(":"))return{type:"JsdocTypeName",value:r};let n,o=t.lexer.current;if(t.consume("StringValue"))n={type:"JsdocTypeSpecialNamePath",value:o.text.slice(1,-1),specialType:r,meta:{quote:"'"===o.text[0]?"single":"double"}};else{let e="";const a=["Identifier","@","/"];for(;a.some((e=>t.consume(e)));)e+=o.text,o=t.lexer.current;n={type:"JsdocTypeSpecialNamePath",value:e,specialType:r,meta:{quote:void 0}}}const a=new k(e,t.lexer,t),s=a.parseInfixIntermediateType(n,P.ALL);return t.acceptLexerState(a),g(s)}})}const C=[q({allowedAdditionalTokens:["external","module"]}),B,_,$({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:null})],Y=[...C,M({allowedTypes:["event"],pathGrammar:C})];function G(e){let t;if("JsdocTypeParameterList"===e.type)t=e.elements;else{if("JsdocTypeParenthesis"!==e.type)throw new o(e);t=[e.element]}return t.map((e=>w(e)))}function W(e){const t=G(e);if(t.some((e=>"JsdocTypeKeyValue"===e.type)))throw new Error("No parameter should be named");return t}function X({allowNamedParameters:e,allowNoReturnType:t,allowWithoutParenthesis:r,allowNewAsFunctionKeyword:n}){return A({name:"functionParslet",accept:(e,t)=>"function"===e||n&&"new"===e&&"("===t,parsePrefix:n=>{const o=n.consume("new");n.consume("function");const a="("===n.lexer.current.type;if(!a){if(!r)throw new Error("function is missing parameter list");return{type:"JsdocTypeName",value:"function"}}let s={type:"JsdocTypeFunction",parameters:[],arrow:!1,constructor:o,parenthesis:a};const i=n.parseIntermediateType(P.FUNCTION);if(void 0===e)s.parameters=W(i);else{if(o&&"JsdocTypeFunction"===i.type&&i.arrow)return s=i,s.constructor=!0,s;s.parameters=G(i);for(const t of s.parameters)if("JsdocTypeKeyValue"===t.type&&!e.includes(t.key))throw new Error(`only allowed named parameters are ${e.join(", ")} but got ${t.type}`)}if(n.consume(":"))s.returnType=n.parseType(P.PREFIX);else if(!t)throw new Error("function is missing return type");return s}})}function H({allowPostfix:e,allowEnclosingBrackets:t}){return A({name:"variadicParslet",accept:e=>"..."===e,precedence:P.PREFIX,parsePrefix:e=>{e.consume("...");const n=t&&e.consume("[");try{const t=e.parseType(P.PREFIX);if(n&&!e.consume("]"))throw new Error("Unterminated variadic type. Missing ']'");return{type:"JsdocTypeVariadic",element:g(t),meta:{position:"prefix",squareBrackets:n}}}catch(x){if(x instanceof r){if(n)throw new Error("Empty square brackets for variadic are not allowed.");return{type:"JsdocTypeVariadic",meta:{position:void 0,squareBrackets:!1}}}throw x}},parseInfix:e?(e,t)=>(e.consume("..."),{type:"JsdocTypeVariadic",element:g(t),meta:{position:"suffix",squareBrackets:!1}}):void 0})}const Q=A({name:"symbolParslet",accept:e=>"("===e,precedence:P.SYMBOL,parseInfix:(e,t)=>{if("JsdocTypeName"!==t.type)throw new Error("Symbol expects a name on the left side. (Reacting on '(')");e.consume("(");const r={type:"JsdocTypeSymbol",value:t.value};if(!e.consume(")")){const t=e.parseIntermediateType(P.SYMBOL);if(r.element=E(t),!e.consume(")"))throw new Error("Symbol does not end after value")}return r}}),z=A({name:"arrayBracketsParslet",precedence:P.ARRAY_BRACKETS,accept:(e,t)=>"["===e&&"]"===t,parseInfix:(e,t)=>(e.consume("["),e.consume("]"),{type:"JsdocTypeGeneric",left:{type:"JsdocTypeName",value:"Array"},elements:[g(t)],meta:{brackets:"square",dot:!1}})});function Z({objectFieldGrammar:e,allowKeyTypes:t}){return A({name:"objectParslet",accept:e=>"{"===e,parsePrefix:r=>{r.consume("{");const n={type:"JsdocTypeObject",meta:{separator:"comma"},elements:[]};if(!r.consume("}")){let a;const s=new k(e,r.lexer,r);for(;;){s.acceptLexerState(r);let e=s.parseIntermediateType(P.OBJECT);r.acceptLexerState(s),void 0===e&&t&&(e=r.parseIntermediateType(P.OBJECT));let i=!1;if("JsdocTypeNullable"===e.type&&(i=!0,e=e.element),"JsdocTypeNumber"===e.type||"JsdocTypeName"===e.type||"JsdocTypeStringValue"===e.type){let t;"JsdocTypeStringValue"===e.type&&(t=e.meta.quote),n.elements.push({type:"JsdocTypeObjectField",key:e.value.toString(),right:void 0,optional:i,readonly:!1,meta:{quote:t}})}else{if("JsdocTypeObjectField"!==e.type&&"JsdocTypeJsdocObjectField"!==e.type)throw new o(e);n.elements.push(e)}if(r.lexer.current.startOfLine)a="linebreak";else if(r.consume(","))a="comma";else{if(!r.consume(";"))break;a="semicolon"}if("}"===r.lexer.current.type)break}if(n.meta.separator=null!=a?a:"comma",!r.consume("}"))throw new Error("Unterminated record type. Missing '}'")}return n}})}function ee({allowSquaredProperties:e,allowKeyTypes:t,allowReadonly:r,allowOptional:n}){return A({name:"objectFieldParslet",precedence:P.KEY_VALUE,accept:e=>":"===e,parseInfix:(a,s)=>{var i;let l=!1,c=!1;n&&"JsdocTypeNullable"===s.type&&(l=!0,s=s.element),r&&"JsdocTypeReadonlyProperty"===s.type&&(c=!0,s=s.element);const p=null!==(i=a.baseParser)&&void 0!==i?i:a;if(p.acceptLexerState(a),"JsdocTypeNumber"===s.type||"JsdocTypeName"===s.type||"JsdocTypeStringValue"===s.type||b(s)){if(b(s)&&!e)throw new o(s);let t;p.consume(":"),"JsdocTypeStringValue"===s.type&&(t=s.meta.quote);const r=p.parseType(P.KEY_VALUE);return a.acceptLexerState(p),{type:"JsdocTypeObjectField",key:b(s)?s:s.value.toString(),right:r,optional:l,readonly:c,meta:{quote:t}}}{if(!t)throw new o(s);p.consume(":");const e=p.parseType(P.KEY_VALUE);return a.acceptLexerState(p),{type:"JsdocTypeJsdocObjectField",left:g(s),right:e}}}})}function te({allowOptional:e,allowVariadic:t}){return A({name:"keyValueParslet",precedence:P.KEY_VALUE,accept:e=>":"===e,parseInfix:(r,n)=>{let a=!1,s=!1;if(e&&"JsdocTypeNullable"===n.type&&(a=!0,n=n.element),t&&"JsdocTypeVariadic"===n.type&&void 0!==n.element&&(s=!0,n=n.element),"JsdocTypeName"!==n.type)throw new o(n);r.consume(":");const i=r.parseType(P.KEY_VALUE);return{type:"JsdocTypeKeyValue",key:n.value,right:i,optional:a,variadic:s}}})}const re=[...K,X({allowWithoutParenthesis:!0,allowNamedParameters:["this","new"],allowNoReturnType:!0,allowNewAsFunctionKeyword:!1}),B,M({allowedTypes:["module","external","event"],pathGrammar:Y}),H({allowEnclosingBrackets:!0,allowPostfix:!0}),q({allowedAdditionalTokens:["keyof"]}),Q,z,$({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:Y})],ne=[...re,Z({objectFieldGrammar:[q({allowedAdditionalTokens:["module","in"]}),ee({allowSquaredProperties:!1,allowKeyTypes:!0,allowOptional:!1,allowReadonly:!1}),...re],allowKeyTypes:!0}),te({allowOptional:!0,allowVariadic:!0})],oe=A({name:"typeOfParslet",accept:e=>"typeof"===e,parsePrefix:e=>(e.consume("typeof"),{type:"JsdocTypeTypeof",element:g(e.parseType(P.KEY_OF_TYPE_OF))})}),ae=[q({allowedAdditionalTokens:["module","keyof","event","external","in"]}),I,R,B,_,ee({allowSquaredProperties:!1,allowKeyTypes:!1,allowOptional:!1,allowReadonly:!1})],se=[...K,Z({allowKeyTypes:!1,objectFieldGrammar:ae}),q({allowedAdditionalTokens:["event","external","in"]}),oe,X({allowWithoutParenthesis:!1,allowNamedParameters:["this","new"],allowNoReturnType:!0,allowNewAsFunctionKeyword:!1}),H({allowEnclosingBrackets:!1,allowPostfix:!1}),q({allowedAdditionalTokens:["keyof"]}),M({allowedTypes:["module"],pathGrammar:Y}),$({allowSquareBracketsOnAnyType:!1,allowJsdocNamePaths:!0,pathGrammar:Y}),te({allowOptional:!1,allowVariadic:!1}),Q],ie=A({name:"assertsParslet",accept:e=>"asserts"===e,parsePrefix:e=>{e.consume("asserts");const t=e.parseIntermediateType(P.SYMBOL);if("JsdocTypeName"!==t.type)throw new o(t,"A typescript asserts always has to have a name on the left side.");return e.consume("is"),{type:"JsdocTypeAsserts",left:t,right:g(e.parseIntermediateType(P.INFIX))}}});function le({allowQuestionMark:e}){return A({name:"tupleParslet",accept:e=>"["===e,parsePrefix:e=>{e.consume("[");const t={type:"JsdocTypeTuple",elements:[]};if(e.consume("]"))return t;const r=e.parseIntermediateType(P.ALL);if("JsdocTypeParameterList"===r.type?"JsdocTypeKeyValue"===r.elements[0].type?t.elements=r.elements.map(N):t.elements=r.elements.map(g):"JsdocTypeKeyValue"===r.type?t.elements=[N(r)]:t.elements=[g(r)],!e.consume("]"))throw new Error("Unterminated '['");if(t.elements.some((e=>"JsdocTypeUnknown"===e.type)))throw new Error("Question mark in tuple not allowed");return t}})}const ce=A({name:"keyOfParslet",accept:e=>"keyof"===e,parsePrefix:e=>(e.consume("keyof"),{type:"JsdocTypeKeyof",element:g(e.parseType(P.KEY_OF_TYPE_OF))})}),pe=A({name:"importParslet",accept:e=>"import"===e,parsePrefix:e=>{if(e.consume("import"),!e.consume("("))throw new Error("Missing parenthesis after import keyword");const t=e.parseType(P.PREFIX);if("JsdocTypeStringValue"!==t.type)throw new Error("Only string values are allowed as paths for imports");if(!e.consume(")"))throw new Error("Missing closing parenthesis after import keyword");return{type:"JsdocTypeImport",element:t}}}),ue=A({name:"readonlyPropertyParslet",accept:e=>"readonly"===e,parsePrefix:e=>(e.consume("readonly"),{type:"JsdocTypeReadonlyProperty",element:e.parseType(P.KEY_VALUE)})}),ye=A({name:"arrowFunctionParslet",precedence:P.ARROW,accept:e=>"=>"===e,parseInfix:(e,t)=>(e.consume("=>"),{type:"JsdocTypeFunction",parameters:G(t).map(v),arrow:!0,constructor:!1,parenthesis:!0,returnType:e.parseType(P.OBJECT)})}),de=A({name:"intersectionParslet",accept:e=>"&"===e,precedence:P.INTERSECTION,parseInfix:(e,t)=>{e.consume("&");const r=[];do{r.push(e.parseType(P.INTERSECTION))}while(e.consume("&"));return{type:"JsdocTypeIntersection",elements:[g(t),...r]}}}),me=A({name:"predicateParslet",precedence:P.INFIX,accept:e=>"is"===e,parseInfix:(e,t)=>{if("JsdocTypeName"!==t.type)throw new o(t,"A typescript predicate always has to have a name on the left side.");return e.consume("is"),{type:"JsdocTypePredicate",left:t,right:g(e.parseIntermediateType(P.INFIX))}}}),Te=A({name:"objectSquareBracketPropertyParslet",accept:e=>"["===e,parsePrefix:e=>{if(void 0===e.baseParser)throw new Error("Only allowed inside object grammar");e.consume("[");const t=e.lexer.current.text;let r;if(e.consume("Identifier"),e.consume(":")){const n=e.baseParser;n.acceptLexerState(e),r={type:"JsdocTypeIndexSignature",key:t,right:n.parseType(P.INDEX_BRACKETS)},e.acceptLexerState(n)}else{if(!e.consume("in"))throw new Error("Missing ':' or 'in' inside square bracketed property.");{const n=e.baseParser;n.acceptLexerState(e),r={type:"JsdocTypeMappedType",key:t,right:n.parseType(P.ARRAY_BRACKETS)},e.acceptLexerState(n)}}if(!e.consume("]"))throw new Error("Unterminated square brackets");return r}}),fe=[ue,q({allowedAdditionalTokens:["module","event","keyof","event","external","in"]}),I,R,B,_,ee({allowSquaredProperties:!0,allowKeyTypes:!1,allowOptional:!0,allowReadonly:!0}),Te],he=[...K,Z({allowKeyTypes:!1,objectFieldGrammar:fe}),oe,ce,pe,B,X({allowWithoutParenthesis:!0,allowNoReturnType:!1,allowNamedParameters:["this","new","args"],allowNewAsFunctionKeyword:!0}),le({allowQuestionMark:!1}),H({allowEnclosingBrackets:!1,allowPostfix:!1}),ie,q({allowedAdditionalTokens:["event","external","in"]}),M({allowedTypes:["module"],pathGrammar:Y}),z,ye,$({allowSquareBracketsOnAnyType:!0,allowJsdocNamePaths:!1,pathGrammar:Y}),de,me,te({allowVariadic:!0,allowOptional:!0})];function Je(e,t){switch(t){case"closure":return new k(se,e).parse();case"jsdoc":return new k(ne,e).parse();case"typescript":return new k(he,e).parse()}}function ge(e,t=["typescript","closure","jsdoc"]){let r;for(const n of t)try{return Je(e,n)}catch(x){r=x}throw r}function we(e,t){const r=e[t.type];if(void 0===r)throw new Error(`In this set of transform rules exists no rule for type ${t.type}.`);return r(t,(t=>we(e,t)))}function ve(e){throw new Error("This transform is not available. Are you trying the correct parsing mode?")}function Ne(e){const t={params:[]};for(const r of e.parameters)"JsdocTypeKeyValue"===r.type?"this"===r.key?t.this=r.right:"new"===r.key?t.new=r.right:t.params.push(r):t.params.push(r);return t}function Ee(e,t,r){return"prefix"===e?r+t:t+r}function be(e,t){switch(t){case"double":return`"${e}"`;case"single":return`'${e}'`;case void 0:return e}}function xe(){return{JsdocTypeParenthesis:(e,t)=>`(${void 0!==e.element?t(e.element):""})`,JsdocTypeKeyof:(e,t)=>`keyof ${t(e.element)}`,JsdocTypeFunction:(e,t)=>{if(e.arrow){if(void 0===e.returnType)throw new Error("Arrow function needs a return type.");let r=`(${e.parameters.map(t).join(", ")}) => ${t(e.returnType)}`;return e.constructor&&(r="new "+r),r}{let r=e.constructor?"new":"function";return e.parenthesis?(r+=`(${e.parameters.map(t).join(", ")})`,void 0!==e.returnType&&(r+=`: ${t(e.returnType)}`),r):r}},JsdocTypeName:e=>e.value,JsdocTypeTuple:(e,t)=>`[${e.elements.map(t).join(", ")}]`,JsdocTypeVariadic:(e,t)=>void 0===e.meta.position?"...":Ee(e.meta.position,t(e.element),"..."),JsdocTypeNamePath:(e,t)=>{const r=t(e.left),n=t(e.right);switch(e.pathType){case"inner":return`${r}~${n}`;case"instance":return`${r}#${n}`;case"property":return`${r}.${n}`;case"property-brackets":return`${r}[${n}]`}},JsdocTypeStringValue:e=>be(e.value,e.meta.quote),JsdocTypeAny:()=>"*",JsdocTypeGeneric:(e,t)=>{if("square"===e.meta.brackets){const r=e.elements[0],n=t(r);return"JsdocTypeUnion"===r.type||"JsdocTypeIntersection"===r.type?`(${n})[]`:`${n}[]`}return`${t(e.left)}${e.meta.dot?".":""}<${e.elements.map(t).join(", ")}>`},JsdocTypeImport:(e,t)=>`import(${t(e.element)})`,JsdocTypeObjectField:(e,t)=>{let r="";return e.readonly&&(r+="readonly "),"string"==typeof e.key?r+=be(e.key,e.meta.quote):r+=t(e.key),e.optional&&(r+="?"),void 0===e.right?r:r+`: ${t(e.right)}`},JsdocTypeJsdocObjectField:(e,t)=>`${t(e.left)}: ${t(e.right)}`,JsdocTypeKeyValue:(e,t)=>{let r=e.key;return e.optional&&(r+="?"),e.variadic&&(r="..."+r),void 0===e.right?r:r+`: ${t(e.right)}`},JsdocTypeSpecialNamePath:e=>`${e.specialType}:${be(e.value,e.meta.quote)}`,JsdocTypeNotNullable:(e,t)=>Ee(e.meta.position,t(e.element),"!"),JsdocTypeNull:()=>"null",JsdocTypeNullable:(e,t)=>Ee(e.meta.position,t(e.element),"?"),JsdocTypeNumber:e=>e.value.toString(),JsdocTypeObject:(e,t)=>`{${e.elements.map(t).join(("comma"===e.meta.separator?",":";")+" ")}}`,JsdocTypeOptional:(e,t)=>Ee(e.meta.position,t(e.element),"="),JsdocTypeSymbol:(e,t)=>`${e.value}(${void 0!==e.element?t(e.element):""})`,JsdocTypeTypeof:(e,t)=>`typeof ${t(e.element)}`,JsdocTypeUndefined:()=>"undefined",JsdocTypeUnion:(e,t)=>e.elements.map(t).join(" | "),JsdocTypeUnknown:()=>"?",JsdocTypeIntersection:(e,t)=>e.elements.map(t).join(" & "),JsdocTypeProperty:e=>be(e.value,e.meta.quote),JsdocTypePredicate:(e,t)=>`${t(e.left)} is ${t(e.right)}`,JsdocTypeIndexSignature:(e,t)=>`[${e.key}: ${t(e.right)}]`,JsdocTypeMappedType:(e,t)=>`[${e.key} in ${t(e.right)}]`,JsdocTypeAsserts:(e,t)=>`asserts ${t(e.left)} is ${t(e.right)}`}}const Pe=xe();function Se(e){return we(Pe,e)}const ke=["null","true","false","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield"];function Oe(e){const t={type:"NameExpression",name:e};return ke.includes(e)&&(t.reservedWord=!0),t}const Ie={JsdocTypeOptional:(e,t)=>{const r=t(e.element);return r.optional=!0,r},JsdocTypeNullable:(e,t)=>{const r=t(e.element);return r.nullable=!0,r},JsdocTypeNotNullable:(e,t)=>{const r=t(e.element);return r.nullable=!1,r},JsdocTypeVariadic:(e,t)=>{if(void 0===e.element)throw new Error("dots without value are not allowed in catharsis mode");const r=t(e.element);return r.repeatable=!0,r},JsdocTypeAny:()=>({type:"AllLiteral"}),JsdocTypeNull:()=>({type:"NullLiteral"}),JsdocTypeStringValue:e=>Oe(be(e.value,e.meta.quote)),JsdocTypeUndefined:()=>({type:"UndefinedLiteral"}),JsdocTypeUnknown:()=>({type:"UnknownLiteral"}),JsdocTypeFunction:(e,t)=>{const r=Ne(e),n={type:"FunctionType",params:r.params.map(t)};return void 0!==r.this&&(n.this=t(r.this)),void 0!==r.new&&(n.new=t(r.new)),void 0!==e.returnType&&(n.result=t(e.returnType)),n},JsdocTypeGeneric:(e,t)=>({type:"TypeApplication",applications:e.elements.map((e=>t(e))),expression:t(e.left)}),JsdocTypeSpecialNamePath:e=>Oe(e.specialType+":"+be(e.value,e.meta.quote)),JsdocTypeName:e=>"function"!==e.value?Oe(e.value):{type:"FunctionType",params:[]},JsdocTypeNumber:e=>Oe(e.value.toString()),JsdocTypeObject:(e,t)=>{const r={type:"RecordType",fields:[]};for(const n of e.elements)"JsdocTypeObjectField"!==n.type&&"JsdocTypeJsdocObjectField"!==n.type?r.fields.push({type:"FieldType",key:t(n),value:void 0}):r.fields.push(t(n));return r},JsdocTypeObjectField:(e,t)=>{if("string"!=typeof e.key)throw new Error("Index signatures and mapped types are not supported");return{type:"FieldType",key:Oe(be(e.key,e.meta.quote)),value:void 0===e.right?void 0:t(e.right)}},JsdocTypeJsdocObjectField:(e,t)=>({type:"FieldType",key:t(e.left),value:t(e.right)}),JsdocTypeUnion:(e,t)=>({type:"TypeUnion",elements:e.elements.map((e=>t(e)))}),JsdocTypeKeyValue:(e,t)=>({type:"FieldType",key:Oe(e.key),value:void 0===e.right?void 0:t(e.right)}),JsdocTypeNamePath:(e,t)=>{const r=t(e.left);let n;n="JsdocTypeSpecialNamePath"===e.right.type?t(e.right).name:be(e.right.value,e.right.meta.quote);const o="inner"===e.pathType?"~":"instance"===e.pathType?"#":".";return Oe(`${r.name}${o}${n}`)},JsdocTypeSymbol:e=>{let t="",r=e.element,n=!1;return"JsdocTypeVariadic"===(null==r?void 0:r.type)&&("prefix"===r.meta.position?t="...":n=!0,r=r.element),"JsdocTypeName"===(null==r?void 0:r.type)?t+=r.value:"JsdocTypeNumber"===(null==r?void 0:r.type)&&(t+=r.value.toString()),n&&(t+="..."),Oe(`${e.value}(${t})`)},JsdocTypeParenthesis:(e,t)=>t(g(e.element)),JsdocTypeMappedType:ve,JsdocTypeIndexSignature:ve,JsdocTypeImport:ve,JsdocTypeKeyof:ve,JsdocTypeTuple:ve,JsdocTypeTypeof:ve,JsdocTypeIntersection:ve,JsdocTypeProperty:ve,JsdocTypePredicate:ve,JsdocTypeAsserts:ve};function Ae(e){return we(Ie,e)}function Re(e){switch(e){case void 0:return"none";case"single":return"single";case"double":return"double"}}function _e(e){switch(e){case"inner":return"INNER_MEMBER";case"instance":return"INSTANCE_MEMBER";case"property":case"property-brackets":return"MEMBER"}}function Le(e,t){return 2===t.length?{type:e,left:t[0],right:t[1]}:{type:e,left:t[0],right:Le(e,t.slice(1))}}const Fe={JsdocTypeOptional:(e,t)=>({type:"OPTIONAL",value:t(e.element),meta:{syntax:"prefix"===e.meta.position?"PREFIX_EQUAL_SIGN":"SUFFIX_EQUALS_SIGN"}}),JsdocTypeNullable:(e,t)=>({type:"NULLABLE",value:t(e.element),meta:{syntax:"prefix"===e.meta.position?"PREFIX_QUESTION_MARK":"SUFFIX_QUESTION_MARK"}}),JsdocTypeNotNullable:(e,t)=>({type:"NOT_NULLABLE",value:t(e.element),meta:{syntax:"prefix"===e.meta.position?"PREFIX_BANG":"SUFFIX_BANG"}}),JsdocTypeVariadic:(e,t)=>{const r={type:"VARIADIC",meta:{syntax:"prefix"===e.meta.position?"PREFIX_DOTS":"suffix"===e.meta.position?"SUFFIX_DOTS":"ONLY_DOTS"}};return void 0!==e.element&&(r.value=t(e.element)),r},JsdocTypeName:e=>({type:"NAME",name:e.value}),JsdocTypeTypeof:(e,t)=>({type:"TYPE_QUERY",name:t(e.element)}),JsdocTypeTuple:(e,t)=>({type:"TUPLE",entries:e.elements.map(t)}),JsdocTypeKeyof:(e,t)=>({type:"KEY_QUERY",value:t(e.element)}),JsdocTypeImport:e=>({type:"IMPORT",path:{type:"STRING_VALUE",quoteStyle:Re(e.element.meta.quote),string:e.element.value}}),JsdocTypeUndefined:()=>({type:"NAME",name:"undefined"}),JsdocTypeAny:()=>({type:"ANY"}),JsdocTypeFunction:(e,t)=>{const r=Ne(e),n={type:e.arrow?"ARROW":"FUNCTION",params:r.params.map((e=>{if("JsdocTypeKeyValue"===e.type){if(void 0===e.right)throw new Error("Function parameter without ':' is not expected to be 'KEY_VALUE'");return{type:"NAMED_PARAMETER",name:e.key,typeName:t(e.right)}}return t(e)})),new:null,returns:null};return void 0!==r.this?n.this=t(r.this):e.arrow||(n.this=null),void 0!==r.new&&(n.new=t(r.new)),void 0!==e.returnType&&(n.returns=t(e.returnType)),n},JsdocTypeGeneric:(e,t)=>{const r={type:"GENERIC",subject:t(e.left),objects:e.elements.map(t),meta:{syntax:"square"===e.meta.brackets?"SQUARE_BRACKET":e.meta.dot?"ANGLE_BRACKET_WITH_DOT":"ANGLE_BRACKET"}};return"square"!==e.meta.brackets||"JsdocTypeFunction"!==e.elements[0].type||e.elements[0].parenthesis||(r.objects[0]={type:"NAME",name:"function"}),r},JsdocTypeObjectField:(e,t)=>{if("string"!=typeof e.key)throw new Error("Index signatures and mapped types are not supported");if(void 0===e.right)return{type:"RECORD_ENTRY",key:e.key,quoteStyle:Re(e.meta.quote),value:null,readonly:!1};let r=t(e.right);return e.optional&&(r={type:"OPTIONAL",value:r,meta:{syntax:"SUFFIX_KEY_QUESTION_MARK"}}),{type:"RECORD_ENTRY",key:e.key.toString(),quoteStyle:Re(e.meta.quote),value:r,readonly:!1}},JsdocTypeJsdocObjectField:()=>{throw new Error("Keys may not be typed in jsdoctypeparser.")},JsdocTypeKeyValue:(e,t)=>{if(void 0===e.right)return{type:"RECORD_ENTRY",key:e.key,quoteStyle:"none",value:null,readonly:!1};let r=t(e.right);return e.optional&&(r={type:"OPTIONAL",value:r,meta:{syntax:"SUFFIX_KEY_QUESTION_MARK"}}),{type:"RECORD_ENTRY",key:e.key,quoteStyle:"none",value:r,readonly:!1}},JsdocTypeObject:(e,t)=>{const r=[];for(const n of e.elements)"JsdocTypeObjectField"!==n.type&&"JsdocTypeJsdocObjectField"!==n.type||r.push(t(n));return{type:"RECORD",entries:r}},JsdocTypeSpecialNamePath:e=>{if("module"!==e.specialType)throw new Error(`jsdoctypeparser does not support type ${e.specialType} at this point.`);return{type:"MODULE",value:{type:"FILE_PATH",quoteStyle:Re(e.meta.quote),path:e.value}}},JsdocTypeNamePath:(e,t)=>{let r,n,o=!1;"JsdocTypeSpecialNamePath"===e.right.type&&"event"===e.right.specialType?(o=!0,r=e.right.value,n=Re(e.right.meta.quote)):(r=e.right.value,n=Re(e.right.meta.quote));const a={type:_e(e.pathType),owner:t(e.left),name:r,quoteStyle:n,hasEventPrefix:o};if("MODULE"===a.owner.type){const e=a.owner;return a.owner=a.owner.value,e.value=a,e}return a},JsdocTypeUnion:(e,t)=>Le("UNION",e.elements.map(t)),JsdocTypeParenthesis:(e,t)=>({type:"PARENTHESIS",value:t(g(e.element))}),JsdocTypeNull:()=>({type:"NAME",name:"null"}),JsdocTypeUnknown:()=>({type:"UNKNOWN"}),JsdocTypeStringValue:e=>({type:"STRING_VALUE",quoteStyle:Re(e.meta.quote),string:e.value}),JsdocTypeIntersection:(e,t)=>Le("INTERSECTION",e.elements.map(t)),JsdocTypeNumber:e=>({type:"NUMBER_VALUE",number:e.value.toString()}),JsdocTypeSymbol:ve,JsdocTypeProperty:ve,JsdocTypePredicate:ve,JsdocTypeMappedType:ve,JsdocTypeIndexSignature:ve,JsdocTypeAsserts:ve};function Ue(e){return we(Fe,e)}function je(){return{JsdocTypeIntersection:(e,t)=>({type:"JsdocTypeIntersection",elements:e.elements.map(t)}),JsdocTypeGeneric:(e,t)=>({type:"JsdocTypeGeneric",left:t(e.left),elements:e.elements.map(t),meta:{dot:e.meta.dot,brackets:e.meta.brackets}}),JsdocTypeNullable:e=>e,JsdocTypeUnion:(e,t)=>({type:"JsdocTypeUnion",elements:e.elements.map(t)}),JsdocTypeUnknown:e=>e,JsdocTypeUndefined:e=>e,JsdocTypeTypeof:(e,t)=>({type:"JsdocTypeTypeof",element:t(e.element)}),JsdocTypeSymbol:(e,t)=>{const r={type:"JsdocTypeSymbol",value:e.value};return void 0!==e.element&&(r.element=t(e.element)),r},JsdocTypeOptional:(e,t)=>({type:"JsdocTypeOptional",element:t(e.element),meta:{position:e.meta.position}}),JsdocTypeObject:(e,t)=>({type:"JsdocTypeObject",meta:{separator:"comma"},elements:e.elements.map(t)}),JsdocTypeNumber:e=>e,JsdocTypeNull:e=>e,JsdocTypeNotNullable:(e,t)=>({type:"JsdocTypeNotNullable",element:t(e.element),meta:{position:e.meta.position}}),JsdocTypeSpecialNamePath:e=>e,JsdocTypeObjectField:(e,t)=>({type:"JsdocTypeObjectField",key:e.key,right:void 0===e.right?void 0:t(e.right),optional:e.optional,readonly:e.readonly,meta:e.meta}),JsdocTypeJsdocObjectField:(e,t)=>({type:"JsdocTypeJsdocObjectField",left:t(e.left),right:t(e.right)}),JsdocTypeKeyValue:(e,t)=>({type:"JsdocTypeKeyValue",key:e.key,right:void 0===e.right?void 0:t(e.right),optional:e.optional,variadic:e.variadic}),JsdocTypeImport:(e,t)=>({type:"JsdocTypeImport",element:t(e.element)}),JsdocTypeAny:e=>e,JsdocTypeStringValue:e=>e,JsdocTypeNamePath:e=>e,JsdocTypeVariadic:(e,t)=>{const r={type:"JsdocTypeVariadic",meta:{position:e.meta.position,squareBrackets:e.meta.squareBrackets}};return void 0!==e.element&&(r.element=t(e.element)),r},JsdocTypeTuple:(e,t)=>({type:"JsdocTypeTuple",elements:e.elements.map(t)}),JsdocTypeName:e=>e,JsdocTypeFunction:(e,t)=>{const r={type:"JsdocTypeFunction",arrow:e.arrow,parameters:e.parameters.map(t),constructor:e.constructor,parenthesis:e.parenthesis};return void 0!==e.returnType&&(r.returnType=t(e.returnType)),r},JsdocTypeKeyof:(e,t)=>({type:"JsdocTypeKeyof",element:t(e.element)}),JsdocTypeParenthesis:(e,t)=>({type:"JsdocTypeParenthesis",element:t(e.element)}),JsdocTypeProperty:e=>e,JsdocTypePredicate:(e,t)=>({type:"JsdocTypePredicate",left:t(e.left),right:t(e.right)}),JsdocTypeIndexSignature:(e,t)=>({type:"JsdocTypeIndexSignature",key:e.key,right:t(e.right)}),JsdocTypeMappedType:(e,t)=>({type:"JsdocTypeMappedType",key:e.key,right:t(e.right)}),JsdocTypeAsserts:(e,t)=>({type:"JsdocTypeAsserts",left:t(e.left),right:t(e.right)})}}const Ve={JsdocTypeAny:[],JsdocTypeFunction:["parameters","returnType"],JsdocTypeGeneric:["left","elements"],JsdocTypeImport:[],JsdocTypeIndexSignature:["right"],JsdocTypeIntersection:["elements"],JsdocTypeKeyof:["element"],JsdocTypeKeyValue:["right"],JsdocTypeMappedType:["right"],JsdocTypeName:[],JsdocTypeNamePath:["left","right"],JsdocTypeNotNullable:["element"],JsdocTypeNull:[],JsdocTypeNullable:["element"],JsdocTypeNumber:[],JsdocTypeObject:["elements"],JsdocTypeObjectField:["right"],JsdocTypeJsdocObjectField:["left","right"],JsdocTypeOptional:["element"],JsdocTypeParenthesis:["element"],JsdocTypeSpecialNamePath:[],JsdocTypeStringValue:[],JsdocTypeSymbol:["element"],JsdocTypeTuple:["elements"],JsdocTypeTypeof:["element"],JsdocTypeUndefined:[],JsdocTypeUnion:["elements"],JsdocTypeUnknown:[],JsdocTypeVariadic:["element"],JsdocTypeProperty:[],JsdocTypePredicate:["left","right"],JsdocTypeAsserts:["left","right"]};function De(e,t,r,n,o){null==n||n(e,t,r);const a=Ve[e.type];for(const s of a){const t=e[s];if(void 0!==t)if(Array.isArray(t))for(const r of t)De(r,e,s,n,o);else De(t,e,s,n,o)}null==o||o(e,t,r)}function Ke(e,t,r){De(e,void 0,void 0,t,r)}e.catharsisTransform=Ae,e.identityTransformRules=je,e.jtpTransform=Ue,e.parse=Je,e.stringify=Se,e.stringifyRules=xe,e.transform=we,e.traverse=Ke,e.tryParse=ge,e.visitorKeys=Ve}(t.exports);var r=t.exports,n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0});const{UnknownArgTypesError:a}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__;var s=o((e=>"literal"===e.name),"isLiteral"),i=o((e=>e.value.replace(/['|"]/g,"")),"toEnumOption"),l=o((e=>{switch(e.type){case"function":return{name:"function"};case"object":let t={};return e.signature.properties.forEach((e=>{t[e.key]=c(e.value)})),{name:"object",value:t};default:throw new a({type:e,language:"Flow"})}}),"convertSig"),c=o((e=>{var t,r,n,o;let{name:a,raw:p}=e,u={};switch(typeof p<"u"&&(u.raw=p),e.name){case"literal":return{...u,name:"other",value:e.value};case"string":case"number":case"symbol":case"boolean":return{...u,name:a};case"Array":return{...u,name:"array",value:e.elements.map(c)};case"signature":return{...u,...l(e)};case"union":return(null==(t=e.elements)?void 0:t.every(s))?{...u,name:"enum",value:null==(r=e.elements)?void 0:r.map(i)}:{...u,name:a,value:null==(n=e.elements)?void 0:n.map(c)};case"intersection":return{...u,name:a,value:null==(o=e.elements)?void 0:o.map(c)};default:return{...u,name:"other",value:a}}}),"convert");function p(e,t){let r={},n=Object.keys(e);for(let o=0;o<n.length;o++){let a=n[o],s=e[a];r[a]=t(s,a,e)}return r}o(p,"mapValues");var u=/^['"]|['"]$/g,y=o((e=>e.replace(u,"")),"trimQuotes"),d=o((e=>u.test(e)),"includesQuotes"),m=o((e=>{let t=y(e);return d(e)||Number.isNaN(Number(t))?t:Number(t)}),"parseLiteral"),T=/^\(.*\) => /,f=o((e=>{let{name:t,raw:r,computed:n,value:o}=e,a={};switch(typeof r<"u"&&(a.raw=r),t){case"enum":{let e=n?o:o.map((e=>m(e.value)));return{...a,name:t,value:e}}case"string":case"number":case"symbol":case"object":return{...a,name:t};case"func":return{...a,name:"function"};case"bool":case"boolean":return{...a,name:"boolean"};case"arrayOf":case"array":return{...a,name:"array",value:o&&f(o)};case"objectOf":return{...a,name:t,value:f(o)};case"shape":case"exact":let e=p(o,(e=>f(e)));return{...a,name:"object",value:e};case"union":return{...a,name:"union",value:o.map((e=>f(e)))};default:{if((null==t?void 0:t.indexOf("|"))>0)try{let e=t.split("|").map((e=>JSON.parse(e)));return{...a,name:"enum",value:e}}catch{}let e=o?`${t}(${o})`:t,r=T.test(t)?"function":"other";return{...a,name:r,value:e}}}}),"convert");const{UnknownArgTypesError:h}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__;var J=o((e=>{switch(e.type){case"function":return{name:"function"};case"object":let t={};return e.signature.properties.forEach((e=>{t[e.key]=g(e.value)})),{name:"object",value:t};default:throw new h({type:e,language:"Typescript"})}}),"convertSig"),g=o((e=>{var t,r,n,o;let{name:a,raw:s}=e,i={};switch(typeof s<"u"&&(i.raw=s),e.name){case"string":case"number":case"symbol":case"boolean":return{...i,name:a};case"Array":return{...i,name:"array",value:e.elements.map(g)};case"signature":return{...i,...J(e)};case"union":let s;return s=(null==(t=e.elements)?void 0:t.every((e=>"literal"===e.name)))?{...i,name:"enum",value:null==(r=e.elements)?void 0:r.map((e=>m(e.value)))}:{...i,name:a,value:null==(n=e.elements)?void 0:n.map(g)},s;case"intersection":return{...i,name:a,value:null==(o=e.elements)?void 0:o.map(g)};default:return{...i,name:"other",value:a}}}),"convert"),w=o((e=>{let{type:t,tsType:r,flowType:n}=e;try{if(null!=t)return f(t);if(null!=r)return g(r);if(null!=n)return c(n)}catch(o){}return null}),"convert"),v=(e=>(e.JAVASCRIPT="JavaScript",e.FLOW="Flow",e.TYPESCRIPT="TypeScript",e.UNKNOWN="Unknown",e))(v||{}),N=["null","undefined"];function E(e){return N.some((t=>t===e))}o(E,"isDefaultValueBlacklisted");var b,x,P=o((e=>{if(!e)return"";if("string"==typeof e)return e;throw new Error(`Description: expected string, got: ${JSON.stringify(e)}`)}),"str");function S(e){return!!e.__docgenInfo}function k(e){return null!=e&&Object.keys(e).length>0}function O(e,t){return S(e)?e.__docgenInfo[t]:null}function I(e){return S(e)?P(e.__docgenInfo.description):""}function A(e){return/^\s+$/.test(e)}function R(e){let t=e.match(/\r+$/);return null==t?["",e]:[e.slice(-t[0].length),e.slice(0,-t[0].length)]}function _(e){let t=e.match(/^\s+/);return null==t?["",e]:[e.slice(0,t[0].length),e.slice(t[0].length)]}function L(e){return e.split(/\n/)}function F(e={}){return Object.assign({tag:"",name:"",type:"",optional:!1,description:"",problems:[],source:[]},e)}function U(e={}){return Object.assign({start:"",delimiter:"",postDelimiter:"",tag:"",postTag:"",name:"",postName:"",type:"",postType:"",description:"",end:"",lineEnd:""},e)}o(S,"hasDocgen"),o(k,"isValidDocgenSection"),o(O,"getDocgenSection"),o(I,"getDocgenDescription"),(x=b=b||(b={})).start="/**",x.nostart="/***",x.delim="*",x.end="*/",o(A,"isSpace"),o(R,"splitCR"),o(_,"splitSpace"),o(L,"splitLines"),o(F,"seedSpec"),o(U,"seedTokens");var j=/^@\S+/;function V({fence:e="```"}={}){let t=D(e),r=o(((e,r)=>t(e)?!r:r),"toggleFence");return o((function(e){let t=[[]],n=!1;for(let o of e)j.test(o.tokens.description)&&!n?t.push([o]):t[t.length-1].push(o),n=r(o.tokens.description,n);return t}),"parseBlock")}function D(e){return"string"==typeof e?t=>t.split(e).length%2==0:e}function K({startLine:e=0,markers:t=b}={}){let r=null,n=e;return o((function(e){let o=e,a=U();if([a.lineEnd,o]=R(o),[a.start,o]=_(o),null===r&&o.startsWith(t.start)&&!o.startsWith(t.nostart)&&(r=[],a.delimiter=o.slice(0,t.start.length),o=o.slice(t.start.length),[a.postDelimiter,o]=_(o)),null===r)return n++,null;let s=o.trimRight().endsWith(t.end);if(""===a.delimiter&&o.startsWith(t.delim)&&!o.startsWith(t.end)&&(a.delimiter=t.delim,o=o.slice(t.delim.length),[a.postDelimiter,o]=_(o)),s){let e=o.trimRight();a.end=o.slice(e.length-t.end.length),o=e.slice(0,-t.end.length)}if(a.description=o,r.push({number:n,source:e,tokens:a}),n++,s){let e=r.slice();return r=null,e}return null}),"parseSource")}function $({tokenizers:e}){return o((function(t){var r;let n=F({source:t});for(let o of e)if(n=o(n),null!==(r=n.problems[n.problems.length-1])&&void 0!==r&&r.critical)break;return n}),"parseSpec")}function q(){return e=>{let{tokens:t}=e.source[0],r=t.description.match(/\s*(@(\S+))(\s*)/);return null===r?(e.problems.push({code:"spec:tag:prefix",message:'tag should start with "@" symbol',line:e.source[0].number,critical:!0}),e):(t.tag=r[1],t.postTag=r[3],t.description=t.description.slice(r[0].length),e.tag=r[2],e)}}function B(e="compact"){let t=C(e);return e=>{let r=0,n=[];for(let[t,{tokens:s}]of e.source.entries()){let o="";if(0===t&&"{"!==s.description[0])return e;for(let e of s.description)if("{"===e&&r++,"}"===e&&r--,o+=e,0===r)break;if(n.push([s,o]),0===r)break}if(0!==r)return e.problems.push({code:"spec:type:unpaired-curlies",message:"unpaired curlies",line:e.source[0].number,critical:!0}),e;let o=[],a=n[0][0].postDelimiter.length;for(let[t,[s,i]]of n.entries())s.type=i,t>0&&(s.type=s.postDelimiter.slice(a)+i,s.postDelimiter=s.postDelimiter.slice(0,a)),[s.postType,s.description]=_(s.description.slice(i.length)),o.push(s.type);return o[0]=o[0].slice(1),o[o.length-1]=o[o.length-1].slice(0,-1),e.type=t(o),e}}o(V,"getParser"),o(D,"getFencer"),o(K,"getParser"),o($,"getParser"),o(q,"tagTokenizer"),o(B,"typeTokenizer");var M=o((e=>e.trim()),"trim");function C(e){return"compact"===e?e=>e.map(M).join(""):"preserve"===e?e=>e.join("\n"):e}o(C,"getJoiner");var Y=o((e=>e&&e.startsWith('"')&&e.endsWith('"')),"isQuoted");function G(){let e=o(((e,{tokens:t},r)=>""===t.type?e:r),"typeEnd");return t=>{let{tokens:r}=t.source[t.source.reduce(e,0)],n=r.description.trimLeft(),o=n.split('"');if(o.length>1&&""===o[0]&&o.length%2==1)return t.name=o[1],r.name=`"${o[1]}"`,[r.postName,r.description]=_(n.slice(r.name.length)),t;let a,s=0,i="",l=!1;for(let e of n){if(0===s&&A(e))break;"["===e&&s++,"]"===e&&s--,i+=e}if(0!==s)return t.problems.push({code:"spec:name:unpaired-brackets",message:"unpaired brackets",line:t.source[0].number,critical:!0}),t;let c=i;if("["===i[0]&&"]"===i[i.length-1]){l=!0,i=i.slice(1,-1);let e=i.split("=");if(i=e[0].trim(),void 0!==e[1]&&(a=e.slice(1).join("=").trim()),""===i)return t.problems.push({code:"spec:name:empty-name",message:"empty name",line:t.source[0].number,critical:!0}),t;if(""===a)return t.problems.push({code:"spec:name:empty-default",message:"empty default value",line:t.source[0].number,critical:!0}),t;if(!Y(a)&&/=(?!>)/.test(a))return t.problems.push({code:"spec:name:invalid-default",message:"invalid default value syntax",line:t.source[0].number,critical:!0}),t}return t.optional=l,t.name=i,r.name=c,void 0!==a&&(t.default=a),[r.postName,r.description]=_(n.slice(r.name.length)),t}}function W(e="compact",t=b){let r=X(e);return e=>(e.description=r(e.source,t),e)}function X(e){return"compact"===e?H:"preserve"===e?Z:e}function H(e,t=b){return e.map((({tokens:{description:e}})=>e.trim())).filter((e=>""!==e)).join(" ")}o(G,"nameTokenizer"),o(W,"descriptionTokenizer"),o(X,"getJoiner"),o(H,"compactJoiner");var Q=o(((e,{tokens:t},r)=>""===t.type?e:r),"lineNo"),z=o((({tokens:e})=>(""===e.delimiter?e.start:e.postDelimiter.slice(1))+e.description),"getDescription");function Z(e,t=b){if(0===e.length)return"";""===e[0].tokens.description&&e[0].tokens.delimiter===t.start&&(e=e.slice(1));let r=e[e.length-1];return void 0!==r&&""===r.tokens.description&&r.tokens.end.endsWith(t.end)&&(e=e.slice(0,-1)),(e=e.slice(e.reduce(Q,0))).map(z).join("\n")}function ee({startLine:e=0,fence:t="```",spacing:r="compact",markers:n=b,tokenizers:o=[e=>{let{tokens:t}=e.source[0],r=t.description.match(/\s*(@(\S+))(\s*)/);return null===r?(e.problems.push({code:"spec:tag:prefix",message:'tag should start with "@" symbol',line:e.source[0].number,critical:!0}),e):(t.tag=r[1],t.postTag=r[3],t.description=t.description.slice(r[0].length),e.tag=r[2],e)},B(r),G(),W(r)]}={}){if(e<0||e%1>0)throw new Error("Invalid startLine");let a=K({startLine:e,markers:n}),s=V({fence:t}),i=$({tokenizers:o}),l=X(r);return function(e){let t=[];for(let r of L(e)){let e=a(r);if(null===e)continue;let o=s(e),c=o.slice(1).map(i);t.push({description:l(o[0],n),tags:c,source:e,problems:c.reduce(((e,t)=>e.concat(t.problems)),[])})}return t}}function te(e){return e.start+e.delimiter+e.postDelimiter+e.tag+e.postTag+e.type+e.postType+e.name+e.postName+e.description+e.end+e.lineEnd}function re(e,t={}){return ee(t)(e)}function ne(e){return null!=e&&e.includes("@")}function oe(e){let t=re("/**\n"+(e??"").split("\n").map((e=>` * ${e}`)).join("\n")+"\n*/",{spacing:"preserve"});if(!t||0===t.length)throw new Error("Cannot parse JSDoc tags.");return t[0]}o(Z,"preserveJoiner"),o(ee,"getParser"),o(te,"join"),o((function(){return e=>e.source.map((({tokens:e})=>te(e))).join("\n")}),"getStringifier"),o(re,"parse"),o(ne,"containsJsDoc"),o(oe,"parse");var ae={tags:["param","arg","argument","returns","ignore","deprecated"]},se=o(((e,t=ae)=>{if(!ne(e))return{includesJsDoc:!1,ignore:!1};let r=oe(e),n=ie(r,t.tags);return n.ignore?{includesJsDoc:!0,ignore:!0}:{includesJsDoc:!0,ignore:!1,description:r.description.trim(),extractedTags:n}}),"parseJsDoc");function ie(e,t){let r={params:null,deprecated:null,returns:null,ignore:!1};for(let n of e.tags)if(void 0===t||t.includes(n.tag)){if("ignore"===n.tag){r.ignore=!0;break}switch(n.tag){case"param":case"arg":case"argument":{let e=ce(n);null!=e&&(null==r.params&&(r.params=[]),r.params.push(e));break}case"deprecated":{let e=pe(n);null!=e&&(r.deprecated=e);break}case"returns":{let e=de(n);null!=e&&(r.returns=e);break}}}return r}function le(e){return e.replace(/[\.-]$/,"")}function ce(e){if(!e.name||"-"===e.name)return null;let t=fe(e.type);return{name:e.name,type:t,description:ye(e.description),getPrettyName:o((()=>le(e.name)),"getPrettyName"),getTypeName:o((()=>t?he(t):null),"getTypeName")}}function pe(e){return e.name?ue(e.name,e.description):null}function ue(e,t){return ye(""===e?t:`${e} ${t}`)}function ye(e){let t=e.replace(/^- /g,"").trim();return""===t?null:t}function de(e){let t=fe(e.type);return t?{type:t,description:ue(e.name,e.description),getTypeName:o((()=>he(t)),"getTypeName")}:null}o(ie,"extractJsDocTags"),o(le,"normaliseParamName"),o(ce,"extractParam"),o(pe,"extractDeprecated"),o(ue,"joinNameAndDescription"),o(ye,"normaliseDescription"),o(de,"extractReturns");var me=r.stringifyRules(),Te=me.JsdocTypeObject;function fe(e){try{return r.parse(e,"typescript")}catch{return null}}function he(e){return r.transform(me,e)}function Je(e){return e.length>90}function ge(e){return e.length>50}function we(e,t){return e===t?{summary:e}:{summary:e,detail:t}}function ve(e,t){if(null!=e){let{value:r}=e;if(!E(r))return ge(r)?we(null==t?void 0:t.name,r):we(r)}return null}function Ne({name:e,value:t,elements:r,raw:n}){return t??(null!=r?r.map(Ne).join(" | "):n??e)}function Ee({name:e,raw:t,elements:r}){return we(null!=r?r.map(Ne).join(" | "):null!=t?t.replace(/^\|\s*/,""):e)}function be({type:e,raw:t}){return we(null!=t?t:e)}function xe({type:e,raw:t}){return null!=t?Je(t)?we(e,t):we(t):we(e)}function Pe(e){let{type:t}=e;return"object"===t?xe(e):be(e)}function Se({name:e,raw:t}){return null!=t?Je(t)?we(e,t):we(t):we(e)}function ke(e){if(null==e)return null;switch(e.name){case"union":return Ee(e);case"signature":return Pe(e);default:return Se(e)}}me.JsdocTypeAny=()=>"any",me.JsdocTypeObject=(e,t)=>`(${Te(e,t)})`,me.JsdocTypeOptional=(e,t)=>t(e.element),me.JsdocTypeNullable=(e,t)=>t(e.element),me.JsdocTypeNotNullable=(e,t)=>t(e.element),me.JsdocTypeUnion=(e,t)=>e.elements.map(t).join("|"),o(fe,"extractType"),o(he,"extractTypeName"),o(Je,"isTooLongForTypeSummary"),o(ge,"isTooLongForDefaultValueSummary"),o(we,"createSummaryValue"),o(ve,"createDefaultValue"),o(Ne,"generateUnionElement"),o(Ee,"generateUnion"),o(be,"generateFuncSignature"),o(xe,"generateObjectSignature"),o(Pe,"generateSignature"),o(Se,"generateDefault"),o(ke,"createType");var Oe=o(((e,t)=>{let{flowType:r,description:n,required:o,defaultValue:a}=t;return{name:e,type:ke(r),required:o,description:n,defaultValue:ve(a??null,r??null)}}),"createFlowPropDef");function Ie({defaultValue:e}){if(null!=e){let{value:t}=e;if(!E(t))return we(t)}return null}function Ae({tsType:e,required:t}){if(null==e)return null;let r=e.name;return t||(r=r.replace(" | undefined","")),we(["Array","Record","signature"].includes(e.name)?e.raw:r)}o(Ie,"createDefaultValue"),o(Ae,"createType");var Re=o(((e,t)=>{let{description:r,required:n}=t;return{name:e,type:Ae(t),required:n,description:r,defaultValue:Ie(t)}}),"createTsPropDef");function _e(e){return null!=e?we(e.name):null}function Le(e){let{computed:t,func:r}=e;return typeof t>"u"&&typeof r>"u"}function Fe(e){return!!e&&("string"===e.name||"enum"===e.name&&(Array.isArray(e.value)&&e.value.every((({value:e})=>"string"==typeof e&&'"'===e[0]&&'"'===e[e.length-1]))))}function Ue(e,t){if(null!=e){let{value:r}=e;if(!E(r))return Le(e)&&Fe(t)?we(JSON.stringify(r)):we(r)}return null}function je(e,t,r){let{description:n,required:o,defaultValue:a}=r;return{name:e,type:_e(t),required:o,description:n,defaultValue:Ue(a,t)}}function Ve(e,t){var r;if(null==t?void 0:t.includesJsDoc){let{description:n,extractedTags:o}=t;null!=n&&(e.description=t.description);let a={...o,params:null==(r=null==o?void 0:o.params)?void 0:r.map((e=>({name:e.getPrettyName(),description:e.description})))};Object.values(a).filter(Boolean).length>0&&(e.jsDocTags=a)}return e}o(_e,"createType"),o(Le,"isReactDocgenTypescript"),o(Fe,"isStringValued"),o(Ue,"createDefaultValue"),o(je,"createBasicPropDef"),o(Ve,"applyJsDocResult");var De=o(((e,t,r)=>{let n=je(e,t.type,t);return n.sbType=w(t),Ve(n,r)}),"javaScriptFactory"),Ke=o(((e,t,r)=>{let n=Re(e,t);return n.sbType=w(t),Ve(n,r)}),"tsFactory"),$e=o(((e,t,r)=>{let n=Oe(e,t);return n.sbType=w(t),Ve(n,r)}),"flowFactory"),qe=o(((e,t,r)=>Ve(je(e,{name:"unknown"},t),r)),"unknownFactory"),Be=o((e=>{switch(e){case"JavaScript":return De;case"TypeScript":return Ke;case"Flow":return $e;default:return qe}}),"getPropDefFactory"),Me=o((e=>null!=e.type?"JavaScript":null!=e.flowType?"Flow":null!=e.tsType?"TypeScript":"Unknown"),"getTypeSystem"),Ce=o((e=>{let t=Me(e[0]),r=Be(t);return e.map((e=>{var n;let o=e;return(null==(n=e.type)?void 0:n.elements)&&(o={...e,type:{...e.type,value:e.type.elements}}),We(o.name,o,t,r)}))}),"extractComponentSectionArray"),Ye=o((e=>{let t=Object.keys(e),r=Me(e[t[0]]),n=Be(r);return t.map((t=>{let o=e[t];return null!=o?We(t,o,r,n):null})).filter(Boolean)}),"extractComponentSectionObject"),Ge=o(((e,t)=>{let r=O(e,t);return k(r)?Array.isArray(r)?Ce(r):Ye(r):[]}),"extractComponentProps");function We(e,t,r,n){let o=se(t.description);return o.includesJsDoc&&o.ignore?null:{propDef:n(e,t,o),jsDocTags:o.extractedTags,docgenInfo:t,typeSystem:r}}function Xe(e){return null!=e?I(e):""}o(We,"extractProp"),o(Xe,"extractComponentDescription");const{combineParameters:He}=__STORYBOOK_MODULE_PREVIEW_API__;var Qe=o((e=>{let{component:t,argTypes:r,parameters:{docs:n={}}}=e,{extractArgTypes:o}=n,a=o&&t?o(t):{};return a?He(a,r):r}),"enhanceArgTypes"),ze="storybook/docs/snippet-rendered",Ze=(e=>(e.AUTO="auto",e.CODE="code",e.DYNAMIC="dynamic",e))(Ze||{});export{Je as B,O as Y,ge as a,Qe as c,Ze as g,v as j,we as l,Xe as n,Ge as o,ze as y,S as z};
